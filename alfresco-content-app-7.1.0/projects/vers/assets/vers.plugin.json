{
  "$id": "seedim-vers",
  "$version": "1.0.0",
  "$vendor": "Seed Information Management Pty Ltd",
  "$name": "VERS Transfer Manager",
  "$description": "Manage creation of VEO Transfers",
  "$license": "PROPRIETARY",

  "routes": [
    {
      "id": "vers.extension.route",
      "path": "ext/my/route",
      "component": "vers.main.component"
    }
  ],
  "rules": [
    {
      "id": "vers.canCreateTransferFolder",
      "type": "core.every",
      "parameters": [
        { "type": "rule", "value": "app.navigation.folder.canCreate" },
        { "type": "rule", "value": "vers.role.isRecordsManager" },
        { "type": "rule", "value": "vers.navigation.isRootForTransfers" }
      ]
    },
    {
      "id": "vers.canCreateVeo",
      "type": "core.every",
      "parameters": [
        { "type": "rule", "value": "vers.role.isRecordsManager" },
        { "type": "rule", "value": "vers.selection.hasDispositionLifecycle" },
        {
          "type": "rule",
          "value": "core.not",
          "parameters": [
            {
              "type": "rule",
              "value": "vers.selection.isPartOfVeoCreationRequest"
            }
          ]
        }
      ]
    },
    {
      "id": "vers.selected.hasVeoDetails",
      "type": "core.every",
      "parameters": [
        { "type": "rule", "value": "vers.role.isRecordsManager" },
        { "type": "rule", "value": "vers.selection.isPartOfVeoCreationRequest" }
      ]
    }
  ],
  "features": {
    "icons": [

      {
        "id": "vers:veo-status-success",
        "value": "./assets/vers/images/archive-success-24.svg"
      },
      {
        "id": "vers:veo-status-pending",
        "value": "./assets/vers/images/archive-pending-24.svg"
      },
      {
        "id": "vers:veo-status-failed",
        "value": "./assets/vers/images/archive-failed-24.svg"
      }
    ],
    "navbar": [
      {
        "id": "app.navbar.primary",
        "items": [
          {
            "id": "app.navbar.menu",
            "order": 100,
            "title": "APP.BROWSE.FILE.SIDENAV_LINK.LABEL",
            "description": "APP.BROWSE.FILE.SIDENAV_LINK.TOOLTIP",
            "data": {
              "canBeInactive": true
            },
            "children": [
              {
                "id": "vers.extension.nav",
                "items": [
                  {
                    "id": "vers.extension.main",
                    "order": 25,
                    "title": "My Extension",
                    "route": "vers.extension.route"
                  },
                  {
                    "id": "custom.navbar.personalFiles",
                    "order": 100,
                    "title": "APP.BROWSE.PERSONAL.SIDENAV_LINK.LABEL",
                    "description": "APP.BROWSE.PERSONAL.SIDENAV_LINK.TOOLTIP",
                    "route": "personal-files"
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "sidebar": {
      "tabs": [
        {
          "id": "vers.sidebar.veoDetails",
          "order": 50,
          "title": "VERS.TABS.INFO_DRAWER.TABS.VEO_DETAILS",
          "component": "vers.components.tabs.veo-details",
          "rules": {
            "visible": "vers.selected.hasVeoDetails"
          }
        }
      ]
    },
    "toolbar": [
      {
        "id": "app.toolbar.create",
        "type": "menu",
        "order": 10,
        "title": "APP.HEADER.BUTTONS.CREATE",
        "description": "APP.HEADER.BUTTONS.CREATE_TOOLTIP",
        "data": {
          "menuType": "flat-button",
          "color": "primary"
        },
        "children": [
          {
            "id": "vers.create.transfer",
            "order": 10,
            "icon": "output",
            "title": "VERS.ACTION_CREATE_VERS_TRANSFER",
            "description": "APP.NEW_MENU.TOOLTIPS.CREATE_FOLDER",
            "description-disabled": "APP.NEW_MENU.TOOLTIPS.CREATE_FOLDER_NOT_ALLOWED",
            "actions": {
              "click": "CREATE_TRANSFER_ACTION"
            },
            "rules": {
              "visible": ["app.isContentServiceEnabled", "vers.canCreateTransferFolder"]
            }
          }
        ]
      },
      {
        "id": "app.toolbar.more",
        "children": [
          {
            "id": "vers.create.veo",
            "order": 90,
            "icon": "archive",
            "title": "VERS.ACTION_CREATE_VEO_TITLE",
            "actions": {
              "click": "CREATE_VEO_ACTION"
            },
            "rules": {
              "visible": ["app.isContentServiceEnabled", "vers.canCreateVeo"]
            }
          }
        ]
      }
    ],
    "contextMenu": [
      {
        "id": "vers.context.create.veo",
        "order": 450,
        "icon": "archive",
        "title": "VERS.ACTION_CREATE_VEO_TITLE",
        "actions": {
          "click": "CREATE_VEO_ACTION"
        },
        "rules": {
          "visible": ["app.isContentServiceEnabled", "vers.canCreateVeo"]
        }
      }
    ],
    "documentList": {
      "files": [
        {
          "id": "vers.veoDetails",
          "key": "properties.vers:veoStatus",
          "type": "image",
          "sortable": false,
          "template": "vers.components.columns.veostatus",
          "desktopOnly": false,
          "order": 21,
          "rules": {
            "visible": [
              "app.areTagsEnabled"
            ]
          }
        },
        {
          "id": "vers.consignmentId",
          "key": "properties.vers:consignmentId",
          "sortingKey": "vers:consignmentId",
          "title": "VERS.DOCUMENT_LIST.COLUMNS.CONSIGNMENT_ID",
          "type": "text",
          "class": "adf-ellipsis-cell adf-expand-cell-1",
          "sortable": true,
          "desktopOnly": false,
          "order": 25,
          "draggable": true
        },
        {
          "id": "vers.consignmentAccess",
          "key": "properties.vers:consignmentAccess",
          "sortingKey": "vers:consignmentAccess",
          "title": "VERS.DOCUMENT_LIST.COLUMNS.CONSIGNMENT_ACCESS",
          "type": "text",
          "class": "adf-ellipsis-cell adf-expand-cell-1",
          "sortable": true,
          "desktopOnly": false,
          "order": 26,
          "draggable": true
        }
      ]
    },
    "search": [
      {
        "id": "app.search.default",
        "include": ["path", "allowableOperations", "properties", "aspectNames", "association"]
      },
      {
        "id": "vers.record.search",
        "order": 400,
        "name": "Record search",
        "default": false,
        "filterWithContains": true,
        "include": ["path", "aspectNames", "properties"],
        "sorting": {
          "options": [
            {
              "key": "score",
              "label": "SEARCH.SORT.RELEVANCE",
              "type": "SCORE",
              "field": "score",
              "ascending": false
            },
            {
              "key": "name",
              "label": "SEARCH.SORT.FILENAME",
              "type": "FIELD",
              "field": "cm:name",
              "ascending": true
            },
            {
              "key": "title",
              "label": "SEARCH.SORT.TITLE",
              "type": "FIELD",
              "field": "cm:title",
              "ascending": true
            },
            {
              "key": "modified",
              "label": "SEARCH.SORT.MODIFIED_DATE",
              "type": "FIELD",
              "field": "cm:modified",
              "ascending": true
            },
            {
              "key": "modifier",
              "label": "SEARCH.SORT.MODIFIER",
              "type": "FIELD",
              "field": "cm:modifier",
              "ascending": true
            },
            {
              "key": "created",
              "label": "SEARCH.SORT.CREATE_DATE",
              "type": "FIELD",
              "field": "cm:created",
              "ascending": true
            },
            {
              "key": "content.sizeInBytes",
              "label": "SEARCH.SORT.SIZE",
              "type": "FIELD",
              "field": "content.size",
              "ascending": true
            },
            {
              "key": "content.mimetype",
              "label": "SEARCH.SORT.TYPE",
              "type": "FIELD",
              "field": "content.mimetype",
              "ascending": true
            }
          ],
          "defaults": [
            {
              "key": "score",
              "type": "SCORE",
              "field": "score",
              "ascending": false
            }
          ]
        },
        "filterQueries": [
          { "query": "(+ASPECT:'rma:record' AND +TYPE:'cm:content') OR (+TYPE:'rma:recordFolder' AND +ASPECT:'rma:dispositionLifecycle')" },
          { "query": "-cm:creator:System" }
        ],

        "facetFields": {
          "expanded": true,
          "fields": [
            {
              "field": "rma:identifier",
              "mincount": 1,
              "label": "Record Identifier",
              "pageSize": 10,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 2
              }
            },
            {
              "field": "vers:veoStatus",
              "mincount": 1,
              "label": "VEO Status",
              "pageSize": 10,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 3
              }
            },
            {
              "field": "rma:location",
              "mincount": 5,
              "label": "Location",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 4
              }
            },
            {
              "field": "sc:classificationSearch",
              "mincount": 5,
              "label": "Current Classification",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 6
              }
            },
            {
              "field": "sc:securityMarksSearch",
              "mincount": 5,
              "label": "Security Marks",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 8
              }
            },
            {
              "field": "rma:recordSearchHasDispositionSchedule",
              "mincount": 5,
              "label": "Has Retention Schedule",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 10
              }
            },
            {
              "field": "rma:recordSearchDispositionAuthority",
              "mincount": 5,
              "label": "Retention Authority",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 10
              }
            },
            {
              "field": "rma:recordSearchDispositionEvents",
              "mincount": 1,
              "label": "Retention Events",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 12
              }
            },
            {
              "field": "rma:recordSearchDispositionActionName",
              "mincount": 1,
              "label": "Retention Action Name",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 12
              }
            },
            {
              "field": "rma:recordSearchDispositionActionName",
              "mincount": 1,
              "label": "Retention Action Name",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 12
              }
            },
            {
              "field": "rma:recordSearchDispositionPeriod",
              "mincount": 1,
              "label": "Retention Period",
              "pageSize": 5,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 12
              }
            },
            {
              "field": "content.mimetype",
              "mincount": 1,
              "label": "Type",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 100
              }
            },
            {
              "mincount": 1,
              "field": "creator",
              "label": "SEARCH.FACET_FIELDS.CREATOR",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 200
              }
            },
            {
              "mincount": 1,
              "field": "modifier",
              "label": "SEARCH.FACET_FIELDS.MODIFIER",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 300
              }
            }
          ]
        },
        "categories": [
          {
            "id": "vers.record.rma.dateFiled",
            "name": "Date Filed",
            "enabled": true,
            "component": {
              "selector": "date-range",
              "settings": {
                "field": "rma.dateFiled",
                "dateFormat": "dd-MMM-yy",
                "maxDate": "today",
                "displayedLabelsByField": {
                  "rma.dateFiled": "Filed"
                }
              }
            }
          },
          {
            "id": "vers.record.rma.reviewAsOf",
            "name": "Review Date",
            "enabled": true,
            "component": {
              "selector": "date-range",
              "settings": {
                "field": "rma.reviewAsOf",
                "dateFormat": "dd-MMM-yy",
                "maxDate": "today",
                "displayedLabelsByField": {
                  "rma.reviewAsOf": "Review Date"
                }
              }
            }
          },
          {
            "id": "queryName",
            "name": "Name",
            "enabled": true,
            "component": {
              "selector": "text",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "pattern": "cm:name:'(.*?)'",
                "field": "cm:name",
                "placeholder": "Enter the name"
              }
            }
          },
          {
            "id": "tag",
            "name": "Tags",
            "enabled": true,
            "component": {
              "selector": "autocomplete-chips",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "allowOnlyPredefinedValues": true,
                "field": "TAG"
              }
            },
            "rules": {
              "visible": ["app.areTagsEnabled"]
            }
          }
        ]
      },
      {
        "id": "vers.veo.search",
        "order": 500,
        "name": "VEO search",
        "default": false,
        "filterWithContains": true,
        "include": ["path", "aspectNames", "properties"],
        "sorting": {
          "options": [
            {
              "key": "score",
              "label": "SEARCH.SORT.RELEVANCE",
              "type": "SCORE",
              "field": "score",
              "ascending": false
            },
            {
              "key": "name",
              "label": "SEARCH.SORT.FILENAME",
              "type": "FIELD",
              "field": "cm:name",
              "ascending": true
            },
            {
              "key": "title",
              "label": "SEARCH.SORT.TITLE",
              "type": "FIELD",
              "field": "cm:title",
              "ascending": true
            },
            {
              "key": "modified",
              "label": "SEARCH.SORT.MODIFIED_DATE",
              "type": "FIELD",
              "field": "cm:modified",
              "ascending": true
            },
            {
              "key": "modifier",
              "label": "SEARCH.SORT.MODIFIER",
              "type": "FIELD",
              "field": "cm:modifier",
              "ascending": true
            },
            {
              "key": "created",
              "label": "SEARCH.SORT.CREATE_DATE",
              "type": "FIELD",
              "field": "cm:created",
              "ascending": true
            },
            {
              "key": "content.sizeInBytes",
              "label": "SEARCH.SORT.SIZE",
              "type": "FIELD",
              "field": "content.size",
              "ascending": true
            },
            {
              "key": "content.mimetype",
              "label": "SEARCH.SORT.TYPE",
              "type": "FIELD",
              "field": "content.mimetype",
              "ascending": true
            },
            {
              "key": "consignmentId",
              "label": "Consignment ID",
              "type": "FIELD",
              "field": "vers:consignmentId",
              "ascending": false
            },
            {
              "key": "consignmentAccess",
              "label": "Access",
              "type": "FIELD",
              "field": "vers:consignmentAccess",
              "ascending": true
            }
          ],
          "defaults": [
            {
              "key": "score",
              "type": "SCORE",
              "field": "score",
              "ascending": false
            }
          ]
        },
        "filterQueries": [
          { "query": "(+TYPE:'vers:veo')" }
        ],
        "facetQueries": {
          "mincount": 1,
          "label": "Content Size",
          "pageSize": 4,
          "expanded": true,
          "queries": [
            { "query": "content.mimetype:text/html", "label": "Type: HTML" },
            { "query": "content.size:[0 TO 10240]", "label": "Size: extra small" },
            { "query": "content.size:[10240 TO 102400]", "label": "Size: small" },
            { "query": "content.size:[102400 TO 1048576]", "label": "Size: medium" },
            { "query": "content.size:[1048576 TO 16777216]", "label": "Size: large" },
            { "query": "content.size:[16777216 TO 134217728]", "label": "Size: extra large" },
            { "query": "content.size:[134217728 TO MAX]", "label": "Size: XX large" }
          ],
          "settings": {
            "allowUpdateOnChange": false,
            "hideDefaultAction": true
          }
        },
        "facetFields": {
          "expanded": true,
          "fields": [
            {
              "field": "vers:veoStatus",
              "mincount": 1,
              "label": "VEO Status",
              "pageSize": 10,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 1
              }
            },
            {
              "field": "vers:consignmentId",
              "mincount": 2,
              "label": "Consignment Id",
              "pageSize": 10,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 2
              }
            },
            {
              "field": "vers:consignmentAccess",
              "mincount": 2,
              "label": "Access",
              "pageSize": 10,
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 4
              }
            },
            {
              "field": "content.mimetype",
              "mincount": 1,
              "label": "Type",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 100
              }
            },
            {
              "mincount": 1,
              "field": "creator",
              "label": "SEARCH.FACET_FIELDS.CREATOR",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 200
              }
            },
            {
              "mincount": 1,
              "field": "modifier",
              "label": "SEARCH.FACET_FIELDS.MODIFIER",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "facetOrder": 300
              }
            }
          ]
        },
        "categories": [
          {
            "id": "queryName",
            "name": "Name",
            "enabled": true,
            "component": {
              "selector": "text",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "pattern": "cm:name:'(.*?)'",
                "field": "cm:name",
                "placeholder": "Enter the name"
              }
            }
          },
          {
            "id": "tag",
            "name": "Tags",
            "enabled": true,
            "component": {
              "selector": "autocomplete-chips",
              "settings": {
                "allowUpdateOnChange": false,
                "hideDefaultAction": true,
                "allowOnlyPredefinedValues": true,
                "field": "TAG"
              }
            },
            "rules": {
              "visible": ["app.areTagsEnabled"]
            }
          }
        ]
      }
    ]
  }
}
